---
description: 测试和调试指南
---

# 测试和调试规范

## 数据验证检查点
1. **数据加载后**：检查DataFrame形状和列名
2. **时间解析后**：验证有效时间戳数量
3. **文本清洗后**：检查平均文本长度变化
4. **分类后**：验证各类别分布的合理性

## 调试输出模式
在关键处理点添加信息输出：
```python
print(f"原始数据形状: {df.shape}")
print(f"有效时间戳: {valid_rows}/{len(df)}")
print(f"平均对话长度: {avg_length:.2f}字符")
print(f"用户类型分布: {user_types}")
```

## 数据质量检查
- 空值比例检查
- 重复数据检测
- 异常值识别（如对话长度异常）
- 时间范围合理性验证

## 分析结果验证
- 确保所有统计数值合理（非负、在预期范围内）
- 验证主题分析结果总和
- 检查情感分析的平衡性
- 确认月度数据的连续性

## 性能监控
- 大文件处理时间监控
- 内存使用情况检查
- 批量处理进度跟踪

## 常见问题处理
1. **编码问题**：乱码字符处理
2. **时间格式**：多种时间格式兼容
3. **空数据**：空文件和空字段处理
4. **分组失败**：缺失关键列的处理